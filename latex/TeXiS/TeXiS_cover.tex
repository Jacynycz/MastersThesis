
\def\tituloPortadaVal{\titulo}
\newcommand{\tituloPortada}[1]{%
\def\tituloPortadaVal{#1}
}

% Autor
\def\autorPortadaVal{\autor} \newcommand{\autorPortada}[1]{%
  \def\autorPortadaVal{#1} }

% Tutor
\def\directorPortadaVal{Tutor no definido. Usa
  \texttt{$\backslash$tutorPortada}} \newcommand{\directorPortada}[1]{%
  \def\directorPortadaVal{#1} }

% Fecha de publicacion
\def\fechaPublicacionVal{} \newcommand{\fechaPublicacion}[1]{%
  \def\fechaPublicacionVal{#1} }

% Imagen de la portada (escudo)
\def\imagenPortadaVal{Imagenes/Vectorial/Todo} \newcommand{\imagenPortada}[1]{%
  \def\imagenPortadaVal{#1} } \def\escalaImagenPortadaVal{1.0}
\newcommand{\escalaImagenPortada}[1]{%
  \def\escalaImagenPortadaVal{#1} }
% Tipo de documento (TESIS, MANUAL, ...)
\def\tipoDocumentoVal{TESIS DOCTORAL} \newcommand{\tipoDocumento}[1]{%
  \def\tipoDocumentoVal{#1} }

% Instituci_n
\def\institucionVal{} \newcommand{\institucion}[1]{%
  \def\institucionVal{#1} }

% Primer subt_tulo de la segunda portada
\def\textoPrimerSubtituloPortadaVal{%
  \textit{Memoria que presenta para optar al master en ingeniería informática}
  \leavevmode \\[0.3em]%
  \textbf{\autorPortadaVal}%
} \newcommand{\textoPrimerSubtituloPortada}[1]{%
  \def\textoPrimerSubtituloPortadaVal{#1} }

% Segundo subt_tulo de la segunda portada
\def\textoSegundoSubtituloPortadaVal{%
  \textit{Directed by} \leavevmode \\[0.3em]
  \textbf{\directorPortadaVal} } \newcommand{\textoSegundoSubtituloPortada}[1]{%
  \def\textoSegundoSubtituloPortadaVal{#1} }

% ISBN
\newcommand{\isbn}[1]{%
  \def\isbnVal{#1} }

% Copyright
\newcommand{\copyrightInfo}[1]{%
  \def\copyrightInfoVal{#1} }

% Cr_ditos a TeXiS
\newcommand{\noTeXiSCredits}{%
  \def\noTeXiSCreditsVal{} }

% Explicaci_n sobre impresi_n a doble cara
\newcommand{\explicacionDobleCara}{%
  \def\explicacionDobleCaraVal{} }
%%%
% Configuraci_n terminada
%%%


%%%
%% COMANDO PARA CREAR LAS PORTADAS. CONTIENE TODO EL C_DIGO LaTeX
%%%
\newcommand{\makeCover}{%


  % Ponemos el marcador en el PDF
  \ifpdf \pdfbookmark{Página de Título}{titulo} \fi

%
  % M_RGENES
%
  % La maquetaci_n de las p_ginas en LaTeX es bastante complicada en lo que se
  % refiere a los m_rgenes. Por ejemplo, _siempre_ hay un desplazamiento de una
  % pulgada hacia la derecha y hacia abajo, porque por razones de maquetaci_n se
  % cree que es necesario ese espacio. Si quieres (en una hoja impar, que son de
  % las _nicas que me he preocupado) escribir por encima de la primera pulgada,
  % o hacia la izquierda, tienes que usar "m_rgenes" negativos.
%
  % Para poder seguir esto un poco, lo mejor es que ejecutes \layout con el
  % paquete layout cargado, para ver una imagen...
%
  % Los valores importantes en lo que se refiere al margen (horizontal, que es
  % del _nico que me he preocupado) son:
%
  % - \hoffset : desplazamiento horizontal del "eje" de coordenadas. A este
  % valor hay que sumarle, irremediablemente, una pulgada. El valor por defecto
  % es 0 pt - \oddsidemargin : "margen" izquierdo (en las p_ginas impares). El
  % texto principal de los p_rrafos comenzar_ en esa posici_n (es decir, 1
  % pulgada + \hoffset + \oddsidemargin). El valor por defecto es 22 pt -
  % \textwidth : longitud del texto (de los p_rrafos). El valor por defecto son
  % 360 pt. - \marginparsep : separador de la parte derecha del texto principal
  % y el espacio a anotaciones en el margen (notas marginales). El valor por
  % defecto es 7 pt. - \marginparwidth : ancho de la secci_n de notas
  % marginales. El valor por defecto es 106 pt.
%
  % Fijate que las notas marginales NO necesariamente llegar_n hasta el final
  % del folio. La separaci_n entre el extremo derecho de las notas al margen y
  % el final del folio en realidad depender_ del tama_o
  % de% _ste; no se especifica de ninguna manera. Esto significa que si
  % quieres ajustar exactamente el margen derecho tienes que echar cuentas con
  % respecto al tama_o del papel, que se mantiene en \paperwidth.
%
  % En realidad, no s_ de qu_ manera pero todos los valores est_n relacionados
  % de alg_n modo, y un cambio en uno afecta a los dem_s de maneras bastante
  % inveros_miles. Adem_s, _s_lo_ pueden cambiarse en el pre_mbulo (bueno... al
  % menos \textwidth, \oddsidemargin se puede cambiar en otros sitios, pero no
  % se pueden hacer muchas cosas s_lo con aquellos que se pueden cambiar...).
%
  % En general se recomienda que NO cambies los m_rgenes. Est_n elegidos por
  % especialistas que saben de maquetaci_n y que han estudiado en profundidad
  % las mejores organizaciones. Por ejemplo, los cambios que hagas pueden
  % alargar demasiado las l_neas, o dejarlas demasiado cortas. Pero bueno, si
  % aun as_ quieres cambiar los m_rgenes _a nivel global_ es preferible que uses
  % el paquete geometry, cuya inclusi_n recibe los cent_metros de m_rgen que
  % quieres en cada lado, y _l se encarga de hacer las cuentas para que queden
  % as_, porque tocar tanto valor es un infierno.
%
  % Si quieres cambiar los m_rgenes moment_neamente, entonces lo mejor es hacer
  % uso de un entorno tipo "lista" que permite tocar algunos contadores para
  % ajustar las posiciones de los p_rrafos. Eso es precisamente lo que hace el
  % entorno cambiamargen definido en TeXiS.sty
%
  % El problema es que esos cambios son _relativos_ a los m_rgenes oficiales. Si
  % quieres hacer un cambio dr_stico (como el que necesitamos en la portada,
  % para que quede centrada), entonces es necesario echar cuentas con los
  % contadores anteriores para realizar el desplazamiento adecuado en cada lado
  % para conseguirlo.
%
  % Para resumir, los valores usados en los m_rgenes eran: 1 pulgada + hoffset +
  % oddsidemargin + + textwidth + + marginparsep + marginparwidth + AJUSTE =
  % paperwidth
%
  % Lo que necesitamos en crear un entorno cambiamargen pasando los valores
  % adecuados para que quede centrado. Para eso, hay que hacer cuentas, y eso es
  % un tanto infierno en LaTeX a no ser que se incluya el paquete calc que
  % permite notaci_n infija de operadores. Por tanto, para que esto funcione hay
  % que incluirlo.
%
  % Para aclararnos, vamos a crear un par de longitudes para hacer las cuentas
  % poco a poco. Adem_s, lo primero es asumir que queremos _eliminar todos los
  % m_rgenes_ y que los p_rrafos lleguen totalmente de lado a lado. Para eso, en
  % la izquierda tendremos que restar la suma de los tres primeros valores (1
  % pulgada, \hoffset y \oddsidemargin).

  \newlength{\cambioIzquierdo} \setlength{\cambioIzquierdo}{1in + \hoffset +
    \oddsidemargin}
  % Si te falla aqu_, incluye el paquete calc en el pre_mbulo. 1in = 1 pulgada =
  % 72.27 pt

  % En la parte derecha hay que restar el "margen" visible total, que es el
  % tama_o de la hoja restando el espacio hasta la izquierda del p_rrafo y su
  % ancho. Aprovechamos que el primer espacio lo tenemos en \cambioIzquierdo.
  \newlength{\cambioDerecho} \setlength{\cambioDerecho}{\cambioIzquierdo +
    \textwidth} \setlength{\cambioDerecho}{\paperwidth - \cambioDerecho}

  % Ya casi est_. Si hicieramos
%
% \begin{cambiamargen}{-\cambioIzquierdo}{-\cambioDerecho}
%   ...
% \end{cambiamargen}
%
% tendriamos p_rrafos que van de extremo a extremo de la hoja. Como eso es una
% exageraci_n, restamos a cada longitud el m_rgen real que queremos dejar.
  \newlength{\margenPortada} \setlength{\margenPortada}{3.5cm}

  \setlength{\cambioIzquierdo}{\cambioIzquierdo - \margenPortada}
  \setlength{\cambioDerecho}{\cambioDerecho - \margenPortada}


%%%
  % Portada
%%%


  % P_gina sin cabeceras
  \thispagestyle{empty}

  % \begin{cambiamargen}{\cambioIzquierdo}{-\cambioDerecho}

  \newgeometry{inner=2cm,outer=3cm,top=2cm}

  % En la primera hoja no se entiende de p_ginas pares e impares
  \newlength{\evensidemarginOriginal}
  \setlength{\evensidemarginOriginal}{\evensidemargin}

  \newlength{\oddsidemarginOriginal}
  \setlength{\oddsidemarginOriginal}{\oddsidemargin}

  \setlength{\evensidemargin}{0cm} \setlength{\oddsidemargin}{0cm}

  % Comienza el tex...
  \begin{huge}
    \mbox{ } \vfill %

    % Cuidado: Ajustarlo si el t_tulo cambia...
    \newlength{\longTitulo} \settowidth{\longTitulo}{%
      \textbf{Arquitectura y metodología para el}}
    \begin{center}
      \rule{\longTitulo}{.5mm}\leavevmode \\\relax \vskip 1cm
      \textbf{\tituloPortadaVal} \vskip 0.7cm
      \rule{\longTitulo}{.5mm}\leavevmode \\\relax
    \end{center}
  \end{huge}

  \vfill %

\begin{center}
  \includegraphics[scale=\escalaImagenPortadaVal]{\imagenPortadaVal}
\end{center}

\vfill %

\begin{center}
  {\Large \textbf{\tipoDocumentoVal}}
\end{center}

\vfill

\begin{large}

\begin{center}
  \textbf{\autorPortadaVal}%\leavevmode \\[0.3cm]


  \leavevmode \\\relax \mbox{ }% \leavevmode \\% \mbox{ } \leavevmode \\
  \textoSegundoSubtituloPortadaVal \leavevmode \\[0.3]
  \leavevmode \\\relax \mbox{ }% \leavevmode \\ \mbox{ } \leavevmode \\

  \textbf{\institucionVal}\leavevmode \\[1em]
  \textbf{\fechaPublicacionVal}

\end{center}

\end{large}

\vfill %

% \end{cambiamargen}

\restoregeometry


\newpage

% P_gina que en la cara de detr_s del folio de la portada. Ponemos que el
% documento esta maquetado con TeXiS y la aclaraci_n de que debe imprimirse a
% doble cara.
\thispagestyle{empty} \mbox{ } \vfill%space*{4cm}
\begin{small}
  \begin{center}
    \ifx\noTeXiSCreditsVal\undefined Document made with \texis\ v.\texisVer.
    modified by Viktor Jacynycz García \else \mbox{ } \fi
  \end{center}
\end{small}
\vspace*{2cm}
\begin{small}
  \begin{center}
    \ifx\explicacionDobleCaraVal\undefined \mbox{ } \else
    \noindent This document is prepared for duble-side printing. \fi
  \end{center}
\end{small}

%%%
% Segunda portada
%%%

\newpage

\thispagestyle{empty}

\mbox{ }

\begin{Huge}
  \begin{center}
    \tituloPortadaVal
  \end{center}
\end{Huge}

\vfill %

\begin{large}
  \begin{center}
    \textoPrimerSubtituloPortadaVal\ \leavevmode \\\relax \mbox{ } \leavevmode
    \\\relax \mbox{ } \leavevmode \\\relax
    \textoSegundoSubtituloPortadaVal \leavevmode \\[0.3em]
  \end{center}
\end{large}

\vfill %

\begin{large}
  \begin{center}
    \textbf{\institucionVal}\leavevmode \\[0.2em]
    \mbox{ } \leavevmode \\\relax \textbf{\fechaPublicacionVal}
  \end{center}
\end{large}


\newpage
\thispagestyle{empty} \mbox{ }

% Informacion del ISBN y copyright
\vskip 15cm
\begin{center}
  \includegraphics{TeXiS/by-nc-sa.png}\\%
  https://creativecommons.org/licenses/by-nc-sa/4.0/\\%
  Viktor Jacynycz García
 \end{center}
\newpage
\thispagestyle{empty} \mbox{ } \vskip 5cm El abajo firmante, matriculado en el
Máster en Ingeniería Informática de la Facultad de Informática, autoriza a la
Universidad Complutense de Madrid (UCM) a difundir y utilizar con fines
académicos, no comerciales y mencionando expresamente a su autor el presente
Trabajo Fin de Máster: \emph{\tituloPortadaVal}, realizado durante el curso
académico 2017-2018 bajo la dirección de Samer Hassan Collado y Antonio Sanchez
Ruiz-Granados en el Departamento de ISIA, y a la Biblioteca de la UCM a
depositarlo en el Archivo Institucional E-Prints Complutense con el objeto de
incrementar la difusión, uso e impacto del trabajo en internet y garantizar su
preservación y acceso a largo plazo.

\mbox{ } \vskip 5cm
\begin{center}
Fdo. Viktor Jacynycz García
\end{center}
}% \newcommand{\makeCover}

% Variable local para emacs, para que encuentre el fichero maestro de
% compilaci_n
%%%
%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../Tesis.tex"
%%% End:
